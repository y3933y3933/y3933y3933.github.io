---
title: 解決 Vite-react-ts的 tsconfig paths無法設置絕對路徑問題
date: 2023-11-27
slug: /vite-react-ts-tsconfig-paths
---

## 問題描述

在 Vite + React + TypeScript 項目中，我們經常需要在 tsconfig.json 中配置[路徑別名](<(https://www.typescriptlang.org/tsconfig#paths)>)，以方便我們在代碼中使用絕對路徑引入模組。例如：

```json
{
  "compilerOptions": {
    "paths": {
      "@layouts/*": ["./src/layouts/*"]
    }
  }
}
```

上述設定中，我們告訴 TypeScript，當我們在代碼中使用類似 `import Header from "@layouts/Header"` 的絕對路徑時，應該從 ./src/layouts/Header 尋找對應的模塊。然而，在 Vite 環境下，這樣的設定可能會導致報錯，因為 Vite 默認不支持這樣的路徑別名解析。

![error](https://github.com/y3933y3933/notes/assets/28300286/bd167592-47b8-461e-8399-6ce2063b1973)

## 解決方案：安裝 [`vite-tsconfig-paths`](https://github.com/aleclarson/vite-tsconfig-paths) plugin

### 安裝plugin
將vite-tsconfig-paths 安裝為開發依賴
```
npm install --save-dev vite-tsconfig-paths
```

### 設定vite-config.ts
```ts
import { defineConfig } from 'vite';
import tsconfigPaths from 'vite-tsconfig-paths';

export default defineConfig({
  plugins: [tsconfigPaths()],
});

```

通過這樣的設定，plugin會自動讀取 TypeScript 的配置，將路徑別名同步到 Vite 中，從而解決了在 Vite 環境中使用 tsconfig paths 時的問題。

